(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{134:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(21),i=c.n(r),o=c(12),a=c.n(o),s=c(26),d=c.n(s),l=c(30),j=c(24),b=c(17),u=c(5),f=(c(132),c(135)),x=c(136),O=c(137),h=c(4),A=function(e){var t=e.id,c=e.go,n=(e.fetchedUser,e.showQRReader);return Object(h.jsxs)(u.h,{id:t,children:[Object(h.jsx)(u.i,{children:"QR \u043f\u0440\u0438\u043b\u043e\u0436\u0443\u043b\u044c\u043a\u0430"}),Object(h.jsx)(u.n,{onClick:n,expandable:!0,before:Object(h.jsx)(f.a,{}),children:"\u041e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c QR"}),Object(h.jsx)(u.n,{onClick:c,"data-to":"QrList",expandable:!0,before:Object(h.jsx)(x.a,{}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0441\u043a\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 QR \u043a\u043e\u0434\u043e\u0432"}),Object(h.jsx)(u.m,{}),Object(h.jsx)(u.n,{onClick:c,"data-to":"AllowedQrList",expandable:!0,before:Object(h.jsx)(O.a,{}),children:"\u0411\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"})]})},p=(c.p,c(138)),v=function(e){var t=e.id,c=(e.fetchedUser,e.go);return Object(h.jsx)(u.h,{id:t,children:Object(h.jsx)(u.e,{children:Object(h.jsx)(u.k,{icon:Object(h.jsx)(p.a,{}),header:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u043c, \u041f\u0440\u0438\u044f\u0442\u0435\u043b\u044c!",action:Object(h.jsx)(u.c,{size:"m",onClick:c,"data-to":"Home",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a QR \u043a\u043e\u0434\u0430\u043c"}),children:'\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0445\u0430\u043a\u0430\u0442\u043e\u043d\u0430 "\u0424\u0438\u043d\u0430\u043b \u0412\u0435\u0437\u0434\u0435\u043a\u043e\u0434\u0430 2021"'})})})},m=function(e){var t=e.id,c=e.go,n=(e.fetchedUser,e.codeList),r=e.setCodeList;return Object(h.jsxs)(u.h,{id:t,children:[Object(h.jsx)(u.i,{left:Object(h.jsx)(u.j,{onClick:c,"data-to":"Home"}),children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u0434\u043e\u0432"}),Object(h.jsx)(u.e,{children:Object(h.jsx)(u.g,{children:n.map((function(e){return Object(h.jsx)(u.d,{multiline:!0,removable:!0,onRemove:function(){var t;t=e.id,console.log("onRemove id: "+t),console.log("Before: "+n),console.log("After: "+n.filter((function(e){return e.id!==t}))),r(n.filter((function(e){return e.id!==t})))},children:e.text},e.id)}))})})]})},g=c(20),C=function(e){var t=e.id,c=e.go,n=(e.fetchedUser,e.codeList),r=e.allowedList;return Object(h.jsxs)(u.h,{id:t,children:[Object(h.jsx)(u.i,{left:Object(h.jsx)(u.j,{onClick:c,"data-to":"Home",label:u.r===u.p?"\u041d\u0430\u0437\u0430\u0434":void 0}),children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u0434\u044b"}),Object(h.jsxs)(u.d,{multiline:!0,children:[" \u041a\u043e\u0434 \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u043c, \u0435\u0441\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f \u043e\u0434\u043d\u0443 \u0438\u0437 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0441\u0442\u0440\u043e\u043a: ",r.map((function(e,t){return'"'+e.text+'"'+(t===r.length-1?"":",")}))]}),Object(h.jsx)(u.o,{}),Object(h.jsx)(u.e,{header:Object(h.jsx)(u.f,{children:"\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u0434\u044b"}),children:Object(h.jsx)(u.g,{children:function(){console.log(n),console.log(r);var e,t=[],c=Object(g.a)(n);try{for(c.s();!(e=c.n()).done;){var i=e.value;console.log("code: "+i.text),console.log("codeType: "+typeof i.text);var o,a=!1,s=Object(g.a)(r);try{for(s.s();!(o=s.n()).done;){var d=o.value;if(i.text.toLowerCase().includes(d.text.toLowerCase())){a=!0;break}}}catch(l){s.e(l)}finally{s.f()}a&&t.push(i)}}catch(l){c.e(l)}finally{c.f()}return t}().map((function(e){return Object(h.jsx)(u.d,{children:e.text},e.id)}))})}),Object(h.jsx)(u.e,{header:Object(h.jsx)(u.f,{children:"\u041d\u0435\u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u043a\u043e\u0434\u044b"}),children:Object(h.jsx)(u.g,{children:function(){var e,t=[],c=Object(g.a)(n);try{for(c.s();!(e=c.n()).done;){var i,o=e.value,a=!1,s=Object(g.a)(r);try{for(s.s();!(i=s.n()).done;){var d=i.value;if(o.text.toLowerCase().includes(d.text.toLowerCase())){a=!0;break}}}catch(l){s.e(l)}finally{s.f()}a||t.push(o)}}catch(l){c.e(l)}finally{c.f()}return t}().map((function(e){return Object(h.jsx)(u.d,{children:e.text},e.id)}))})})]})},L=function(){arguments.length>0&&void 0!==arguments[0]||allowedList;return function(){var e=Object(n.useState)("WelcomeScreen"),t=Object(b.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(null),o=Object(b.a)(i,2),s=o[0],f=o[1],x=Object(n.useState)(Object(h.jsx)(u.l,{size:"large"})),O=Object(b.a)(x,2),p=O[0],g=O[1],L=Object(n.useState)(null),w=Object(b.a)(L,2),y=(w[0],w[1]),R=Object(n.useState)([{text:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",id:1},{text:"BBB",id:2},{text:"CCCC",id:3}]),k=Object(b.a)(R,2),Q=k[0],U=k[1],S=Object(n.useState)(10),W=Object(b.a)(S,2),B=W[0],K=W[1];Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),e.next=3,a.a.send("VKWebAppGetUserInfo");case 3:t=e.sent,f(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a.a.subscribe((function(e){var t=e.detail,c=t.type,n=t.data;if("VKWebAppUpdateConfig"===c){var r=document.createAttribute("scheme");r.value="client_light",y(r.value),document.body.attributes.setNamedItem(r)}"VKWebAppOpenCodeReaderResult"===c&&(console.log(n),U([].concat(Object(j.a)(Q),[{text:n.code_data,id:B}])),K(B+1))})),function(){e.apply(this,arguments)}()}),[]);var V=function(e){r(e.currentTarget.dataset.to)};return Object(h.jsx)(u.a,{children:Object(h.jsx)(u.b,{children:Object(h.jsxs)(u.q,{activePanel:c,popout:p,children:[Object(h.jsx)(v,{id:"WelcomeScreen",fetchedUser:s,go:V}),Object(h.jsx)(A,{id:"Home",fetchedUser:s,go:V,showQRReader:function(){a.a.send("VKWebAppOpenCodeReader")}}),Object(h.jsx)(m,{id:"QrList",fetchedUser:s,go:V,codeList:Q,setCodeList:U}),Object(h.jsx)(C,{id:"AllowedQrList",fetchedUser:s,go:V,codeList:Q,allowedList:[{text:"test",id:4},{text:"\u0431\u0430\u0437\u0430",id:5},{text:"123",id:6}]})]})})})}()};a.a.send("VKWebAppInit"),i.a.render(Object(h.jsx)(L,{}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.e778e812.chunk.js.map